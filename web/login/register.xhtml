<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Register Page</title>
    </h:head>

    <h1>Register Page</h1>

    <h:body>  
        <h:form rendered="#{validUser == null}" >
            Privilege*:<h:selectOneMenu id="priv" styleClass="form-select" value="#{usersController.entity.privilege}" converter="privilegeConverter" >
                <f:selectItems value="#{privilegeController.list}" var="p" itemValue="#{p}" itemLabel="#{p.role}" />
            </h:selectOneMenu><br/>

            UserName*: <h:inputText id="uname" value="#{registerController.entity.user_name}" validator="#{registerController.validateUname}" /> <br/>
            <h:message for="uname" style="color:red; font-size:10pt;"/><br/>

            Password*: <h:inputText id="pass" value="#{registerController.entity.user_password}" validator="#{registerController.validateUpass}" /> <br/>
            <h:message for="pass" style="color:red; font-size:10pt;"/><br/>

            UserMail*: <h:inputText id="umail" value="#{registerController.entity.user_mail}" validator="#{registerController.validateUmail}" /> <br/>
            <h:message for="umail" style="color:red; font-size:10pt;"/><br/>

            UserAddress: <h:inputText id="uaddress" value="#{registerController.entity.user_address}" validator="#{registerController.validateUadr}" /><br/>
            <h:message for="uaddress" style="color:red; font-size:10pt;"/><br/>

            UserPhone*: <h:inputText id="uphone" value="#{registerController.entity.user_phone}" validator="#{registerController.validateUphone}" /> <br/>
            <h:message for="uphone" style="color:red; font-size:10pt;"/><br/>

            <h:commandButton action="#{registerController.create()}" value="Register" />

        </h:form>

        <h:panelGroup rendered="#{validUser != null}" layout="block">
            Privilege: #{validUser.privilege} <br/>
            UserName: #{validUser.user_name} <br/>
            Password: #{validUser.user_password} <br/>
            UserMail: #{validUser.user_mail} <br/>
            UserAddress: #{validUser.user_address} <br/>
            UserPhone: #{validUser.user_phone}
        </h:panelGroup>

        <br/>

        <hr />

        <h:form>
            <h:commandLink styleClass="nav-link" action="/HomePage?faces-redirect=true" value="HomePage" /><br/>
            <h:commandLink styleClass="nav-link" action="/login/login?faces-redirect=true" value="Click For Login" />
        </h:form>

    </h:body>

</html>

